{{- define "main" -}}
<div
    class="mb-4 w-full border border-mondrian_white hover:bg-mondrian_bright_white hover:border-mondrian_black transition-colors p-4"
>
    <div
        class="flex flex-col sm:flex-row sm:justify-between w-full items-start sm:items-end gap-2 sm:gap-0"
    >
        <h3 class="text-2xl sm:text-3xl font-semibold">{{- .Title -}}</h3>
        <span class="h-max">
            <p class="text-sm sm:text-xs font-mono text-mondrian_dark_gray">
                posted: {{ .Date.Format "2006-01-02" }}
            </p>
            {{- with .Params.updated -}} {{- $dateOnly := $.Date.Format
            "2006-01-02" -}} {{- $updatedOnly := (time .).Format "2006-01-02"
            -}} {{- if ne $dateOnly $updatedOnly -}}
            <p class="text-sm sm:text-xs font-mono text-mondrian_dark_gray">
                updated: {{ (time .).Format "2006-01-02" }}
            </p>
            {{- end -}} {{- end -}}
        </span>
    </div>
    <hr />
    <article class="mt-4">
        <div class="text-base sm:text-sm leading-relaxed mb-4">
            {{- .Content -}}
        </div>
        {{- with .Params.tags -}}
        <footer class="flex flex-wrap gap-2">
            {{- range . -}}
            <a
                href="/tags/{{- . | urlize -}}/"
                class="px-2 py-1 text-sm sm:text-xs text-mondrian_black border border-mondrian_black shadow-mondrian font-mono transition-colors bg-mondrian_white hover:bg-mondrian_yellow focus:outline focus:outline-offset-2 focus:outline-mondrian_blue"
            >
                #{{- . -}}</a
            >
            {{- end -}}
        </footer>
        {{- end -}}
    </article>
    {{/* Navigation between note items */}}
    <nav class="mt-4 pt-4 border-t border-gray-300">
        <div class="flex justify-between items-center">
            <div>
                {{- with .PrevInSection -}}
                <a
                    href="{{- .RelPermalink -}}"
                    class="text-sm sm:text-xs py-2 sm:py-1 px-3 sm:px-2 text-mondrian_black border border-mondrian_black shadow-mondrian font-mono transition-colors bg-mondrian_white hover:bg-mondrian_blue hover:text-mondrian_white focus:outline focus:outline-offset-2 focus:outline-mondrian_blue"
                >
                    ← {{ .Title }}</a
                >
                {{- end -}}
            </div>
            <div>
                {{- with .NextInSection -}}
                <a
                    href="{{- .RelPermalink -}}"
                    class="text-sm sm:text-xs py-2 sm:py-1 px-3 sm:px-2 text-mondrian_black border border-mondrian_black shadow-mondrian font-mono transition-colors bg-mondrian_white hover:bg-mondrian_blue hover:text-mondrian_white focus:outline focus:outline-offset-2 focus:outline-mondrian_blue"
                >
                    {{ .Title }} →</a
                >
                {{- end -}}
            </div>
        </div>
    </nav>
</div>
{{- end -}}
