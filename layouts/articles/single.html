{{ define "main" }}
<div class="mb-4">
  <div class="flex justify-between w-full items-end">
    <h3 class="text-3xl font-semibold">{{ .Title }}</h3>
    <span class="h-max pb-1">
      <p class="text-xs font-mono text-gray-500">
        posted: {{ .Date.Format "2006-01-02" }} {{ .Date.Format "15:04" }}
      </p>
      {{ if .Lastmod }} {{ $dateOnly := .Date.Format "2006-01-02" }} {{
      $lastmodOnly := .Lastmod.Format "2006-01-02" }} {{ if ne $dateOnly
      $lastmodOnly }}
      <p class="text-xs font-mono text-gray-500">
        updated: {{ .Lastmod.Format "2006-01-02" }} {{ .Lastmod.Format "15:04"
        }}
      </p>
      {{ end }} {{ end }}
    </span>
  </div>
  <hr />

  <article class="mt-4">
    <div class="text-sm leading-relaxed mb-4">{{ .Content }}</div>
    {{ with .Params.tags }}
    <footer class="flex flex-wrap gap-2">
      {{ range . }}
      <a
        href="/tags/{{ . | urlize }}/"
        class="px-2 py-1 text-xs text-black border border-gray-400 shadow-mondrian font-mono transition-colors bg-mondrian_white hover:bg-mondrian_yellow hover:border-black focus:outline focus:outline-offset-2 focus:outline-mondrian_blue"
      >
        #{{ . }}
      </a>
      {{ end }}
    </footer>
    {{ end }}
  </article>

  {{/* Navigation between note items */}}
  <nav class="mt-4 pt-4 border-t border-gray-300">
    <div class="flex justify-between items-center">
      <div>
        {{ with .PrevInSection }}
        <a
          href="{{ .RelPermalink }}"
          class="text-xs py-1 px-2 text-black border border-black shadow-mondrian font-mono transition-colors bg-mondrian_white hover:bg-mondrian_blue hover:text-mondrian_white focus:outline focus:outline-offset-2 focus:outline-mondrian_blue"
        >
          ← {{ .Title }}
        </a>
        {{ end }}
      </div>

      <div>
        {{ with .NextInSection }}
        <a
          href="{{ .RelPermalink }}"
          class="text-xs py-1 px-2 text-black border border-black shadow-mondrian font-mono transition-colors bg-mondrian_white hover:bg-mondrian_blue hover:text-mondrian_white focus:outline focus:outline-offset-2 focus:outline-mondrian_blue"
        >
          {{ .Title }} →
        </a>
        {{ end }}
      </div>
    </div>
  </nav>
</div>
{{ end }}
